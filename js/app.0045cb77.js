(function(t){function e(e){for(var n,i,s=e[0],c=e[1],u=e[2],f=0,d=[];f<s.length;f++)i=s[f],r[i]&&d.push(r[i][0]),r[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(d.length)d.shift()();return o.push.apply(o,u||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],n=!0,s=1;s<a.length;s++){var c=a[s];0!==r[c]&&(n=!1)}n&&(o.splice(e--,1),t=i(i.s=a[0]))}return t}var n={},r={app:0},o=[];function i(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=n,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/Codebadge/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var l=c;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"047e":function(t,e,a){"use strict";var n=a("1789"),r=a.n(n);r.a},1658:function(t,e,a){t.exports=a.p+"img/block.13b46216.svg"},1789:function(t,e,a){},"19e4":function(t,e,a){},"253d":function(t,e,a){"use strict";var n=a("2cd6"),r=a.n(n);r.a},"2cd6":function(t,e,a){},"2d78":function(t,e){t.exports={clientId:"6e3411068f99256a5ff3"}},3269:function(t,e,a){t.exports=a.p+"img/bars.05ae6a12.svg"},"4e2b":function(t,e,a){"use strict";var n=a("6de9"),r=a.n(n);r.a},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var n=a("2b0e"),r=a("bb71");a("da64");n["a"].use(r["a"],{iconfont:"md"});var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-toolbar",{attrs:{color:"white",app:""}},[a("v-toolbar-title",{staticClass:"headline text-uppercase"},[a("span",[t._v("Codebadge")]),a("span",{staticClass:"font-weight-light text-none"},[t._v("Â (Production Stage)")])])],1),a("v-content",{staticClass:"content"},[a("router-view")],1)],1)},i=[],s={name:"App",components:{},data:function(){return{}}},c=s,u=(a("5c0b"),a("2877")),l=a("6544"),f=a.n(l),d=a("7496"),g=a("549c"),p=a("71d9"),v=a("2a7f"),m=Object(u["a"])(c,o,i,!1,null,null,null),h=m.exports;f()(m,{VApp:d["a"],VContent:g["a"],VToolbar:p["a"],VToolbarTitle:v["a"]});var b=a("8c4f"),_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",{staticClass:"ma-5",attrs:{"justify-center":""}},[a("Login")],1)],1)},y=[],O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",[n("v-layout",{attrs:{"justify-center":""}},[n("i",{staticClass:"fab fa-github-square i-github"})])],1),t.isLoading?t._e():n("v-btn",{staticClass:"btn-login",attrs:{outline:""},on:{click:t.login}},[t._v("Login with GitHub")]),t.isLoading?n("v-btn",{staticClass:"btn-login",attrs:{outline:""}},[n("img",{attrs:{src:a("3269"),alt:"loading..."}})]):t._e()],1)},w=[],L=(a("4917"),a("bc3a")),C=a.n(L),k=a("2d78"),V=a.n(k),j=a("ca4c"),x=a.n(j),T={name:"Login",data:function(){return{isLoading:!1}},methods:{login:function(){window.location="".concat(x.a.authUrl,"?client_id=").concat(V.a.clientId,"&scope=user%20repo%20read:org")}},created:function(){var t=this,e=window.location.href.match(/\?code=(.*)/);e&&(this.isLoading=!0,C.a.get("".concat(x.a.gatekeeperUrl,"/").concat(e[1].slice(0,20))).then(function(e){t.isLoading=!1,localStorage.setItem("token",e.data.token),window.location=x.a.homeUrl}).catch(function(e){t.isLoading=!1,console.log(e)}))}},E=T,S=(a("ba8f"),a("8336")),U=a("a722"),$=Object(u["a"])(E,O,w,!1,null,"8cbf751c",null),D=$.exports;f()($,{VBtn:S["a"],VLayout:U["a"]});var A={name:"AuthView",components:{Login:D}},R=A,F=Object(u["a"])(R,_,y,!1,null,"ea42b09c",null),N=F.exports;f()(F,{VLayout:U["a"]});var I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-layout",{staticClass:"ma-5",attrs:{"justify-center":""}},[t.isLoading?t._e():n("div",[n("UserDetails"),n("div",{staticClass:"mt-5 orgs"},[t._v("Organizations")]),n("OrgList")],1),t.isLoading?n("div",[n("img",{attrs:{src:a("1658"),alt:"loading..."}})]):t._e()])],1)},z=[],P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",{attrs:{flat:"",ripple:""}},[a("v-layout",{attrs:{"justify-center":"",row:""}},[a("v-flex",[a("v-avatar",{attrs:{size:"80"}},[a("img",{attrs:{src:t.userData.dp}})])],1),a("v-flex",[a("div",{staticClass:"username ml-3"},[t._v(t._s(t.userData.username))]),a("div",{staticClass:"github-name ml-3"},[t._v(t._s(t.userData.githubName))])])],1)],1)],1)},M=[],B={name:"UserDetails",computed:{userData:function(){return this.$store.getters.userData}}},H=B,W=(a("ff6b"),a("8212")),G=a("b0af"),J=a("0e8f"),q=Object(u["a"])(H,P,M,!1,null,"7c119a2e",null),K=q.exports;f()(q,{VAvatar:W["a"],VCard:G["a"],VFlex:J["a"],VLayout:U["a"]});var Q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",{attrs:{flat:""}},[a("v-list",t._l(t.orgsData,function(e){return a("v-list-tile",{key:e.name,attrs:{avatar:"",ripple:""},on:{click:function(a){return t.viewOrg(e.name)}}},[a("v-list-tile-avatar",[a("img",{attrs:{src:e.avatar}})]),a("v-list-tile-content",[a("v-list-tile-title",{domProps:{innerHTML:t._s(e.name)}})],1)],1)}),1)],1)],1)},X=[],Y={name:"OrgList",computed:{orgsData:function(){return this.$store.getters.orgsData}},methods:{viewOrg:function(t){this.$router.push({name:"orgView",params:{name:t}})}}},Z=Y,tt=a("8860"),et=a("ba95"),at=a("c954"),nt=a("5d23"),rt=Object(u["a"])(Z,Q,X,!1,null,"3f97cc27",null),ot=rt.exports;f()(rt,{VCard:G["a"],VList:tt["a"],VListTile:et["a"],VListTileAvatar:at["a"],VListTileContent:nt["a"],VListTileTitle:nt["b"]});var it={name:"HomeView",computed:{isLoading:function(){return""==this.$store.state.user&&""==this.$store.state.userOrgs}},components:{UserDetails:K,OrgList:ot},created:function(){this.$store.dispatch("loadUser"),this.$store.dispatch("loadUserOrgs")}},st=it,ct=(a("a83a"),Object(u["a"])(st,I,z,!1,null,"4d0f6dd7",null)),ut=ct.exports;f()(ct,{VLayout:U["a"]});var lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",{staticClass:"ma-5",attrs:{"justify-center":""}},[a("Org")],1)],1)},ft=[],dt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.isLoading?t._e():n("div",[n("v-card",{attrs:{flat:""}},[n("OrgDetails",{attrs:{dp:t.org.avatar_url,name:t.org.login}}),n("OrgRepos",{attrs:{orgName:t.org.login,repos:t.orgRepos}})],1)],1),t.isLoading?n("div",[n("img",{attrs:{src:a("1658"),alt:"loading..."}})]):t._e()])},gt=[],pt=(a("7f7f"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",{attrs:{flat:"",ripple:""}},[a("v-layout",{attrs:{"justify-center":"",row:""}},[a("v-avatar",{attrs:{size:"80"}},[a("img",{attrs:{src:t.dp}})]),a("div",{staticClass:"name ml-3"},[t._v(t._s(t.name))])],1)],1)],1)}),vt=[],mt={name:"UserDetails",props:{dp:{type:String},name:{type:String}}},ht=mt,bt=(a("4e2b"),Object(u["a"])(ht,pt,vt,!1,null,"9b5b86f2",null)),_t=bt.exports;f()(bt,{VAvatar:W["a"],VCard:G["a"],VLayout:U["a"]});var yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"my-3"},[a("div",{staticClass:"mt-5 count"},[t._v("Total repo count: "+t._s(t.repos.length))]),t._l(t.repos,function(e){return a("div",{key:e.name,staticClass:"my-5"},[a("div",{staticClass:"repo-name"},[t._v(t._s(e.name))]),a("RepoContributors",{attrs:{orgName:t.orgName,repoName:e.name}})],1)})],2)])},Ot=[],wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",t._l(t.contributors,function(t){return a("div",{key:t.author.id},[a("ContributorItem",{attrs:{author:t.author.login,weeks:t.weeks,total:t.total}})],1)}),0)},Lt=[],Ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-list-tile",{attrs:{avatar:""}},[a("v-layout",{attrs:{"justify-space-between":""}},[a("div",[a("v-list-tile-title",{domProps:{innerHTML:t._s(t.author)}})],1),a("div",{staticClass:"mx-5"},[a("div",{staticClass:"badge-simple",style:{backgroundColor:t.getColor()}})])])],1)],1)},kt=[],Vt=(a("20d6"),a("c5f6"),{name:"ContributorItem",props:{author:{type:String},weeks:{type:Array},total:{type:Number}},data:function(){return{reversedWeeks:this.weeks.reverse()}},methods:{getLastWeek:function(){return this.reversedWeeks.findIndex(function(t){return 0!=t.c})},getColor:function(){var t=this.getLastWeek();return 1==t?"#1B5E20":2==t?"#2E7D32":3==t?"#66BB6A":3<t&&t<=5?"#A5D6A7":5<t&&t<=8?"#FFF9C4":8<t&&t<=16?"#FFF176":16<t&&t<=32?"#F9A825":32<t&&t<=56?"#FF6F00":56<t&&t<=84?"#E65100":84<t&&t<=112?"#FF3D00":112<t?"#78909C":void 0}}}),jt=Vt,xt=(a("047e"),Object(u["a"])(jt,Ct,kt,!1,null,"7ca983e2",null)),Tt=xt.exports;f()(xt,{VLayout:U["a"],VListTile:et["a"],VListTileTitle:nt["b"]});var Et=a("d225"),St=a("b0b4"),Ut=function(){function t(){Object(Et["a"])(this,t)}return Object(St["a"])(t,[{key:"isLoggedIn",value:function(){return!!localStorage.getItem("token")}},{key:"getToken",value:function(){return localStorage.getItem("token")}}]),t}(),$t=new Ut,Dt={name:"RepoContributors",data:function(){return{contributors:[]}},props:{orgName:{type:String},repoName:{type:String}},components:{ContributorItem:Tt},methods:{loadContributors:function(){var t=this;C.a.get("".concat(x.a.baseUrl,"/repos/").concat(this.orgName,"/").concat(this.repoName,"/stats/contributors"),{headers:{Authorization:"token ".concat($t.getToken())}}).then(function(e){return t.contributors=e.data}).catch(function(t){return console.log(t)})}},created:function(){this.loadContributors()}},At=Dt,Rt=(a("c40d"),Object(u["a"])(At,wt,Lt,!1,null,"c5ac3bea",null)),Ft=Rt.exports,Nt={name:"OrgRepos",props:{repos:{type:Array},orgName:{type:String}},components:{RepoContributors:Ft}},It=Nt,zt=(a("253d"),Object(u["a"])(It,yt,Ot,!1,null,"10a6dbb3",null)),Pt=zt.exports,Mt=new Ut,Bt={name:"Org",data:function(){return{org:[],orgRepos:[],isLoading:!1}},components:{OrgDetails:_t,OrgRepos:Pt},computed:{name:function(){return this.$route.params.name}},methods:{loadOrg:function(){var t=this;C.a.get("".concat(x.a.baseUrl,"/orgs/").concat(this.name),{headers:{Authorization:"token ".concat(Mt.getToken())}}).then(function(e){t.org=e.data,t.loadOrgRepos()}).catch(function(t){return console.log(t)})},loadOrgRepos:function(){var t=this;C.a.get("".concat(x.a.baseUrl,"/orgs/").concat(this.name,"/repos"),{headers:{Authorization:"token ".concat(Mt.getToken())}}).then(function(e){t.isLoading=!1,t.orgRepos=e.data}).catch(function(t){return console.log(t)})}},created:function(){this.isLoading=!0,this.loadOrg()}},Ht=Bt,Wt=Object(u["a"])(Ht,dt,gt,!1,null,"144c97c2",null),Gt=Wt.exports;f()(Wt,{VCard:G["a"]});var Jt={name:"OrgView",components:{Org:Gt}},qt=Jt,Kt=Object(u["a"])(qt,lt,ft,!1,null,"27c39530",null),Qt=Kt.exports;f()(Kt,{VLayout:U["a"]}),n["a"].use(b["a"]);var Xt=new Ut,Yt=new b["a"]({routes:[{path:"",redirect:"auth"},{path:"/auth",name:"authView",component:N},{path:"/home",name:"homeView",component:ut,beforeEnter:function(t,e,a){a(Xt.isLoggedIn())}},{path:"/org/:name",name:"orgView",component:Qt,beforeEnter:function(t,e,a){a(Xt.isLoggedIn())}}]}),Zt=(a("7514"),a("ac6a"),a("2f62"));n["a"].use(Zt["a"]);var te=new Ut,ee=new Zt["a"].Store({state:{user:[],userOrgs:[]},mutations:{SET_USER:function(t,e){t.user=e},SET_USER_ORGS:function(t,e){t.userOrgs=e}},actions:{loadUser:function(t){C.a.get("".concat(x.a.baseUrl,"/user"),{headers:{Authorization:"token ".concat(te.getToken())}}).then(function(e){return t.commit("SET_USER",e.data)}).catch(function(t){return console.log(t)})},loadUserOrgs:function(t){C.a.get("".concat(x.a.baseUrl,"/user/orgs"),{headers:{Authorization:"token ".concat(te.getToken())}}).then(function(e){return t.commit("SET_USER_ORGS",e.data)}).catch(function(t){return console.log(t)})}},getters:{userData:function(t){var e={username:t.user.name,githubName:t.user.login,dp:t.user.avatar_url};return e},orgsData:function(t){var e=[];return t.userOrgs.forEach(function(t){e.push({name:t.login,avatar:t.avatar_url})}),e},getOrgByName:function(t){return function(e){return t.userOrgs.find(function(t){return t.login=e})}}}});n["a"].config.productionTip=!1,new n["a"]({router:Yt,store:ee,render:function(t){return t(h)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";var n=a("6879"),r=a.n(n);r.a},6879:function(t,e,a){},"6de9":function(t,e,a){},a83a:function(t,e,a){"use strict";var n=a("bfb3"),r=a.n(n);r.a},aaa0:function(t,e,a){},ba8f:function(t,e,a){"use strict";var n=a("19e4"),r=a.n(n);r.a},bfb3:function(t,e,a){},c40d:function(t,e,a){"use strict";var n=a("aaa0"),r=a.n(n);r.a},c76c:function(t,e,a){},ca4c:function(t,e){t.exports={baseUrl:"https://api.github.com",authUrl:"https://github.com/login/oauth/authorize",gatekeeperUrl:"https://gatekeeper-oauth.herokuapp.com/authenticate",homeUrl:"http://prabhani.me/Codebadge/#/home"}},ff6b:function(t,e,a){"use strict";var n=a("c76c"),r=a.n(n);r.a}});
//# sourceMappingURL=app.0045cb77.js.map